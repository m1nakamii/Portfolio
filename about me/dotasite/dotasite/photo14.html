<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photo 1 Details</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/details.css">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
        $(document).ready(function () {
            // Проверяем, поддерживает ли браузер localStorage
            if (typeof (Storage) !== "undefined") {
                // Получаем видео элемент
                var video = document.querySelector('.video-background');
    
                // Проверяем, есть ли сохраненное время воспроизведения
                var savedTime = localStorage.getItem("videoPlaybackTime");
    
                if (savedTime) {
                    // Восстанавливаем время воспроизведения
                    video.currentTime = parseFloat(savedTime);
                }
    
                // Слушаем событие ухода со страницы
                window.addEventListener("beforeunload", function () {
                    // Сохраняем текущее время воспроизведения
                    localStorage.setItem("videoPlaybackTime", video.currentTime.toString());
                });
            }
    
            var body = $("body");
            body.fadeIn(200);
    
            $(document).on("click", "a:not([href^='#']):not([href^='tel']):not([href^='mailto'])", function (e) {
                e.preventDefault();
                $("body").fadeOut(200);
                var self = this;
                setTimeout(function () {
                    window.location.href = $(self).attr("href") + "?time=" + Math.floor(document.querySelector('.video-background').currentTime);
                }, 200);
            });
        
        $("#back-to-home").on("click", function(e) {
                e.preventDefault();
                $("body").fadeOut(400);
                setTimeout(function () {
                    window.location.href = "index.html";
                }, 300);
            });
        });
    </script>
</head>
<body>
    <video loop muted autoplay class="video-background" preload="none">
        <source src="css/videoplayback.mp4" type="video/mp4">
    </video>

    <div class="details-container">
        <div class="details-header">
            <img src="img/photos/DREAM.png" id="detailImage" class="main-image">
        </div>
        <div class="details-content">
            <div id="detailCaption">DreamLeague - это серия турниров по Dota 2, организованных компанией DreamHack. Эти турниры обычно включают в себя квалификационные этапы, в ходе которых команды из разных регионов соревнуются за право принять участие в основном турнире. После этого лучшие команды приступают к борьбе на основном этапе турнира, где разыгрываются призовые места.
                нкуренции и трансляции матчей с комментариями на различных языках для зрителей по всему миру.</div>
                <div id="detailCaption">Призовой фонд: $1,000,000 USD</div>
                <div id="detailCaption">Дата начала: 2024-02-25</div>
                <div id="detailCaption">Дата конца: 2024-03-10</div>
                <div id="detailCaption">Команд: 16</div>
                <a href=https://liquipedia.net/dota2/DreamLeague/Season_22>Турнир на Liqupedia</a> 
            <a href="#" id="back-to-home" class="return-button">Вернуться на главный экран</a>
        </div>
    </div>
</body>
</html>